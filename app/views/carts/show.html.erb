<% if notice %>
    <aside id="notice"><%= notice %></aside>
<% end %>

<div class="main_header">
    <h1>Your Cart</h1>
</div>

<div class="flex_table">

    <% if @cart.line_items.any? %>

        <ul>

            <% @cart.line_items.each do |line_item| %>
                <li>
                    <span class="modify">
                        <div class="modify_quantity"><%= button_to '-', line_item, method: :delete, data: { confirm: 'Are you sure?' } %></div>
                        <div class="modify_quantity"><%= button_to '+', line_items_path(product_id: line_item.product) %></div>
                    </span>
                    <span class="quantity"><%= line_item.quantity %></span>
                    <span class="title"><%= line_item.product.title %></span>
                    <span class="price"><%= number_to_currency(line_item.total_price, unit: '₱') + ' PHP' %></span>
                </li>
            <% end %>
                
            <li class="total">
                <span>Total: </span>
                <span><%= number_to_currency(@cart.total_price, unit: '₱') + ' PHP' %></span>
            </li>

        </ul>

        <div class="empty_cart">
            <%= button_to 'Empty cart', @cart, method: :delete, data: { confirm: 'Are you sure?' } %>
        </div>

    <% else %>

    <div class="empty">Your cart is empty.</div>

  <% end %>

</div>

